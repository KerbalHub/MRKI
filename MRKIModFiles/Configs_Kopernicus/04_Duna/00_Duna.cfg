@Kopernicus:FOR[MRKI]
{
    Body
    {
        name = Duna
        cacheFile = MRKI/Cache/Duna.bin
		identifier = MRKI/Duna
        Template
        {
            name = Eeloo
            removeAllPQSMods = True
        }
        Properties
        {
            description = 
            displayName = Duna^N
            radius = 867840
            geeASL = 0.38
			initialRotation = 15
            rotationPeriod = 100588.905636507
			tidallyLocked = false
			isHomeWorld = false
            timewarpAltitudeLimits = 0 63000 63000 63000 70000 75000 79000 79500
			biomeMap = MRKI/Textures/PluginData/DunaBiomes.png
			Biomes
			{
				Biome
				{
					name = Lowlands
					displayName = Lowlands
					value = 1
					color = #463025
				}
				Biome
				{
					name = Midlands
					displayName = Midlands
					value = 1
					color = #7c5a40
				}
				Biome
				{
					name = Highlands
					displayName = Highlands
					value = 1
					color = #b78764
				}
				Biome
				{
					name = Peaks
					displayName = Peaks
					value = 1
					color = #c9936b
				}
				Biome
				{
					name = Volcano1
					displayName = Volcanoes
					value = 1
					color = #95fd9e
				}
				Biome
				{
					name = Volcano2
					displayName = Volcanoes
					value = 1
					color = #ffd200
				}
				Biome
				{
					name = Volcano3
					displayName = Volcanoes
					value = 1
					color = #ff9000
				}
				Biome
				{
					name = GreaterCanyon
					displayName = Greater Canyon
					value = 1
					color = #fd61d4
				}
				Biome
				{
					name = LesserCanyon
					displayName = Lesser Canyon
					value = 1
					color = #2f7331
				}
				Biome
				{
					name = LowlandGlaciers
					displayName = Lowland Glaciers
					value = 1
					color = #d2c3bb
				}
				Biome
				{
					name = MidlandGlaciers
					displayName = Midland Glaciers
					value = 1
					color = #f6d8c8
				}
				Biome
				{
					name = HighlandGlaciers
					displayName = Highland Glaciers
					value = 1
					color = #ffdfca
				}
				Biome
				{
					name = IceCaps
					displayName = Ice Caps
					value = 1
					color = #ffffff
				}
			}
            ScienceValues
			{
				landedDataValue = 8
				flyingLowDataValue = 5
				flyingHighDataValue = 5
				inSpaceLowDataValue = 7
				inSpaceHighDataValue = 5
				recoveryValue = 5
				flyingAltitudeThreshold = 12000
				spaceAltitudeThreshold = 100000
			}
        }
        Orbit
        {
            referenceBody = Sun
            semiMajorAxis = 55338834600
            inclination = 0.02
            eccentricity = 0.09
            longitudeOfAscendingNode = 111
			argumentOfPeriapsis = 32
			meanAnomalyAtEpochD = 45
			epoch = 0
			color = RGBA(90,65,55,200)
        }
        Atmosphere
        {
            enabled = True
            oxygen = False
            altitude =	63000			
adiabaticIndex =	1.34			
atmosphereMolarMass =	0.04393			
temperatureSeaLevel =	219			
staticPressureASL =	1.01325E+00			
temperatureCurve				
{				
key =	0	190	0.00000E+00	4.00561E-04
key =	4993	192	4.00561E-04	2.08681E-04
key =	9785	193	2.08681E-04	-4.37828E-04
key =	14353	191	-4.37828E-04	-9.15332E-04
key =	18723	187	-9.15332E-04	-1.67144E-03
key =	22911	180	-1.67144E-03	-1.98708E-03
key =	26937	172	-1.98708E-03	-1.80319E-03
key =	30819	165	-1.80319E-03	-1.86468E-03
key =	34573	158	-1.86468E-03	-1.09260E-03
key =	38234	154	-1.09260E-03	-1.10865E-03
key =	41842	150	-1.10865E-03	-1.40449E-03
key =	45402	145	-1.40449E-03	-1.13895E-03
key =	48914	141	-1.13895E-03	-8.64553E-04
key =	52384	138	-8.64553E-04	-8.74891E-04
key =	55813	135	-8.74891E-04	-8.84173E-04
key =	59206	132	-8.84173E-04	-2.63574E-04
key =	63000	131	-2.63574E-04	0.00000E+00			
}				
temperatureSunMultCurve				
{				
key =	0	1.000	0.00000E+00	-9.25295E-05
key =	4993	0.538	-9.25295E-05	-8.07596E-05
key =	9785	0.151	-8.07596E-05	-6.12960E-05
key =	14353	-0.129	-6.12960E-05	-3.40961E-05
key =	18723	-0.278	-3.40961E-05	-4.53677E-06
key =	22911	-0.297	-4.53677E-06	5.71287E-06
key =	26937	-0.274	5.71287E-06	1.05616E-05
key =	30819	-0.233	1.05616E-05	1.38519E-05
key =	34573	-0.181	1.38519E-05	1.61158E-05
key =	38234	-0.122	1.61158E-05	1.71840E-05
key =	41842	-0.060	1.71840E-05	1.71348E-05
key =	45402	0.001	1.71348E-05	1.62301E-05
key =	48914	0.058	1.62301E-05	1.44092E-05
key =	52384	0.108	1.44092E-05	1.13736E-05
key =	55813	0.147	1.13736E-05	7.95756E-06
key =	59206	0.174	7.95756E-06	2.89931E-06
key =	63000	0.185	2.89931E-06	0.00000E+00			
}				
temperatureLatitudeBiasCurve				
{				
key =	0	13.36	0	0
key =	38	0	-0.677	-0.677
key =	90	-49.64	-1.0996	0
}				
temperatureLatitudeSunMultCurve				
{				
key =	0	70	0	0
key =	38	59.4	-0.5373	-0.5373
key =	90	20	-0.8727	0
}				
temperatureAxialSunBiasCurve				
{				
key =	0	0	0	-0.0004
key =	4	0	-0.0004	-0.0004
key =	94	-0.02	0	0
key =	184	0	0.0004	0.0004
key =	274	0.02	0	0
key =	360	0	-0.0004	0
}				
temperatureAxialSunMultCurve				
{				
key =	0	0	0	0
key =	38	0.5	0.02	0.02
key =	90	1	0	0
}				
temperatureEccentricityBiasCurve				
{				
key =	0	8.15	0	-16.3
key =	1	-8.15	-16.3	0
}				
pressureCurve				
{				
key =	0	1.01325E+00	0.00000E+00	-1.13272E-04
key =	4993	5.69792E-01	-6.72520E-05	-6.72520E-05
key =	9785	3.20418E-01	-3.98966E-05	-3.98966E-05
key =	14353	1.80184E-01	-2.35795E-05	-2.35795E-05
key =	18723	1.01325E-01	-1.38987E-05	-1.38987E-05
key =	22911	5.69792E-02	-8.16859E-06	-8.16859E-06
key =	26937	3.20418E-02	-4.78586E-06	-4.78586E-06
key =	30819	1.80184E-02	-2.79467E-06	-2.79467E-06
key =	34573	1.01325E-02	-1.62628E-06	-1.62628E-06
key =	38234	5.69792E-03	-9.30354E-07	-9.30354E-07
key =	41842	3.20418E-03	-5.31960E-07	-5.31960E-07
key =	45402	1.80184E-03	-3.03976E-07	-3.03976E-07
key =	48914	1.01325E-03	-1.73571E-07	-1.73571E-07
key =	52384	5.69792E-04	-9.90244E-08	-9.90244E-08
key =	55813	3.20418E-04	-5.64389E-08	-5.64389E-08
key =	59206	1.80184E-04	-3.21316E-08	-3.21316E-08
key =	63000	0.00000E+00	0.00000E+00	0.00000E+00			
}				
            AtmosphereFromGround // The atmosphere effect that is seen on the horizon.
			{
				DEBUG_alwaysUpdateAll = False
				doScale = True
				samples = 4
				transformScale = 1.03499997,1.03499997,1.03499997
				waveLength = 0.509465635,0.588402689,0.643137276,0
				outerRadiusMult = 1.025
				innerRadiusMult = 0.975
			}
        }
        ScaledVersion
        {
            type = Atmospheric
            fadeStart = 155000
			fadeEnd = 160000
            Material
            {
                color = 1,1,1,1
                specColor = 0.0,0.0,0.0,1.0
                shininess = 0
                rimPower = 3
                rimBlend = 0.9
                Gradient
                {
                    0.0 = RGBA(181,125,95,255)
                    0.05 = RGBA(181,125,95,255)
                    0.075 = RGBA(95,125,181,255)
                    0.1 = RGBA(0,0,0,255)
                    1.0 = RGBA(0,0,0,255)
                }
            }
			OnDemand
			{
				texture = MRKI/Textures/PluginData/DunaColor.dds
				normals = MRKI/Textures/PluginData/DunaNormal.dds
			}
        }
        PQS
        {
            minLevel = 4
			maxLevel = 11
			minDetailDistance = 8
			maxQuadLengthsPerFrame = 0.03
			fadeStart = 190000
			fadeEnd = 220000
			deactivateAltitude = 260000
			mapMaxHeight = 10500
			materialType = AtmosphericTriplanarZoomRotation
			PhysicsMaterial
			{
				bounceCombine = Average
				frictionCombine = Maximum
				bounciness = 0
				staticFriction = 0.8
				dynamicFriction = 0.6
			}
			Material
			{
				factor = 7.5
				factorBlendWidth = 0.05
				factorRotation = 135
				saturation = 1.1
				contrast = 1
				tintColor = 1,1,1,0
				specularColor = 0.0367646813,0.0367646813,0.0367646813,0.200000003
				albedoBrightness = 1.6
				steepPower = 1.2
				steepTexStart = 12500
				steepTexEnd = 36500
				steepTex = BUILTIN/Duna Cliff [Diffuse]
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/Duna Boulder [Normal]
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 1000
				steepTiling = 100
				lowTex = BUILTIN/Duna Floor - low [Diffuse]
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 38000
				midTex = BUILTIN/Duna Floor [Diffuse]
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 38000
				midBumpMap = BUILTIN/Duna Floor [Normal]
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 38000
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 1
				lowStart = 0
				lowEnd = 0.3
				highStart = 1
				highEnd = 1
				globalDensity = -5E-06
				fogColorRamp = BUILTIN/desert_atmogradient
				fogColorRampScale = 1,1
				fogColorRampOffset = 0,0
				planetOpacity = 0
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.3
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 0
			}
            Mods
            {
                VertexMitchellNetravaliHeightMap
                {
					name = Height
                    map = MRKI/Textures/PluginData/DunaHeight.dds
					offset = 350
					deformity = 16000
					scaleDeformityByRadius = False
					enabled = True
					order = 100
                }
				VertexHeightNoiseVertHeightCurve2
				{
					deformity = 200
					ridgedAddFrequency = 512
					ridgedAddLacunarity = 2
					ridgedAddOctaves = 8
					ridgedAddSeed = 34543
					ridgedMode = Low
					ridgedSubFrequency = 512
					ridgedSubLacunarity = 2
					ridgedSubOctaves = 8
					ridgedSubSeed = 123213
					simplexFrequency = 1500
					simplexHeightEnd = 8000
					simplexHeightStart = 0
					simplexOctaves = 8
					simplexPersistence = 0.5
					simplexSeed = 234324
					order = 103
					enabled = True
					simplexCurve
					{
						key = 0 0 0 0
						key = 0.6311918 0.4490898 1.432598 1.432598
						key = 1 1 0 0
					}
				}
                QuadEnhanceCoast
				{
					coastLessThan = 0
					oceanFactor = 1.5
					enabled = True
					order = 199
				}
                VertexColorMap
                {
                    map = MRKI/Textures/PluginData/DunaColor.dds
                    order = 200
                    enabled = True
                }
                LandControl
				{
					altitudeBlend = 0
					altitudeFrequency = 1
					altitudeOctaves = 1
					altitudePersistance = 1
					altitudeSeed = 1
					createColors = True
					createScatter = True
					latitudeBlend = 0
					latitudeFrequency = 1
					latitudeOctaves = 1
					latitudePersistance = 1
					latitudeSeed = 1
					longitudeBlend = 0
					longitudeFrequency = 1
					longitudeOctaves = 1
					longitudePersistance = 1
					longitudeSeed = 1
					useHeightMap = False
					vHeightMax = 10000
					order = 999999
					enabled = True
					LandClasses
					{
						Value
						{
							name = Base
                            alterApparentHeight = 0
                            alterRealHeight = 0
                            color = 0,0,0,0
                            coverageBlend = 0
                            coverageFrequency = 1
                            coverageOctaves = 1
                            coveragePersistance = 1
                            coverageSeed = 123
                            latDelta = 1
                            latitudeDouble = False
                            lonDelta = 1
                            minimumRealHeight = 0
                            noiseBlend = 0
                            noiseColor = 0,0,0,0
                            noiseFrequency = 1
                            noiseOctaves = 1
                            noisePersistance = 1
                            noiseSeed = 321
                            delete = False
							altitudeRange
							{
                                startStart = 0
                                startEnd = 0
                                endStart = 1
                                endEnd = 1
                            }
							latitudeRange
                            {
                                startStart = 0
                                startEnd = 0
                                endStart = 1
                                endEnd = 1
                            }
                            longitudeRange
                            {
                                startStart = 0
                                startEnd = 0
                                endStart = 1
                                endEnd = 1
                            }
						}
					}
				}
            }
        }
    }
}
@Kopernicus:LAST[Kopernicus]:NEEDS[ParallaxStock]
{
	@Body[Duna]
    {
        %PQS
        {
            %Mods
            {
                !VertexColorMap[ParallaxDunaVertexColorMap] {}
				%Parallax
				{
					%subdivisionLevel = 8
				}
            }
        }
    }
}